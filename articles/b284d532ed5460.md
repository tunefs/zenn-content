---
title: "GitHub Copilot for CLIã‚’fishã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹"
emoji: "ğŸ¤–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["github", "copilot", "cli", "fish"]
published: true
---
[GitHub Copilot for CLI](https://githubnext.com/projects/copilot-cli/) ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã‘ã‚Œã©ã€`github-copilot-cli alias ...` ã§å‡ºåŠ›ã•ã‚Œã‚‹aliasè¨­å®šãŒbash/zshç”¨ã®ãŸã‚fishã§aliasè¨­å®šã§ããªã„ã®ã§ã€fishç”¨ã®aliasè¨­å®šã‚’è‡ªåˆ†ã§æ›¸ã„ã¦ã¿ãŸã€‚

`github-copilot-cli alias /bin/bash` ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å‚è€ƒã«ã—ã¦ã“ã‚“ãªæ„Ÿã˜ã§æ›¸ã„ã¦ã¿ãŸã€‚

```sh
function github-copilot_helper
    set -l TMPFILE (mktemp)
    trap 'rm -f $TMPFILE' EXIT
    if github-copilot-cli $argv[1] "$argv[2..]" --shellout $TMPFILE
        if [ -e "$TMPFILE" ]
            set -l FIXED_CMD (cat $TMPFILE)
            eval "$FIXED_CMD"
        else
            echo "Apologies! Extracting command failed"
        end
    else
        return 1
    end
end
alias ??='github-copilot_helper what-the-shell'
alias git?='github-copilot_helper git-assist'
alias gh?='github-copilot_helper gh-assist'
```

~~ã‚ªãƒªã‚¸ãƒŠãƒ«ã ã¨ã€`??`, `git?`, `gh?` ã¨ã„ã†åç§°ã§aliasãŒè¨­å®šã•ã‚Œã‚‹ã‘ã‚Œã©ã€fishã§ `?` ãŒä»˜ã„ãŸaliasãŒã†ã¾ãä½¿ãˆãªã‹ã£ãŸã®ã§ã€ãã‚Œãã‚Œ `q`, `qgit`, `qgh` ã¨ã„ã†åç§°ã«ã—ã¦ã¿ãŸã€‚~~

fishã§ `?` ãŒä»˜ã„ãŸaliasã‚’ä½¿ã†ãŸã‚ã«ã¯ã€`?` ãŒglob charã¨ã—ã¦èªè­˜ã•ã‚Œãªã„ã‚ˆã†ã«ã€[Feature flag](https://fishshell.com/docs/current/language.html#future-feature-flags) ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ä¸‹è¨˜ã®ã‚ˆã†ã« `fish_features` ã« `qmark-noglob` ã‚’è¨­å®šã™ã‚‹ã¨ã€`?` ãŒglob charã¨ã—ã¦èªè­˜ã•ã‚Œãšã«é€šå¸¸ã®æ–‡å­—ã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

```sh
set -U fish_features qmark-noglob
```

- ã²ã¨ã¤å‰ã®ã‚³ãƒŸãƒƒãƒˆã«æˆ»ã—ãŸã„
- ãƒªãƒ¢ãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒã‚’å‰Šé™¤ã—ãŸã„

ã¨ã„ã£ãŸã“ã¨ã‚’CLIã§è‡ªç„¶è¨€èªã§è³ªå•ã§ãã‚‹ã®ã¯ä¾¿åˆ©ã€‚
macOSã§ã¯éŸ³å£°å…¥åŠ›ã‚’ONã«ã—ã¦ãŠãã“ã¨ã§ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‹ã‚‰æ—¥æœ¬èªå…¥åŠ›ã›ãšã«ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã®ã‚‚ä¾¿åˆ©ã€‚

![](/images/b284d532ed5460/sample1.png)
![](/images/b284d532ed5460/sample2.png)
