---
title: "Jetson Nanoã®VNCã‚µãƒ¼ãƒãƒ¼ã‚’ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§è¨­å®šã™ã‚‹"
emoji: "ğŸ–¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Linux", "Ubuntu"]
published: false
---
# ã¯ã˜ã‚ã«

Jetson Nanoã‚’è£…ç½®ã«çµ„ã¿è¾¼ã‚€ã¨headless modeã§é‹ç”¨ã™ã‚‹ã“ã¨ã«ãªã‚‹ã®ã ãŒã€GUIæ“ä½œãŒå¿…è¦ã«ãªã£ãŸã¨ãã«HDMIãƒ¢ãƒ‹ã‚¿ã¨USBã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ»ãƒã‚¦ã‚¹ã‚’æ¥ç¶šã™ã‚‹ã®ãŒé¢å€’ãªã®ã§ã€VNCã‚µãƒ¼ãƒãƒ¼ã‚’è¨­å®šã—ã¦ãƒªãƒ¢ãƒ¼ãƒˆã‹ã‚‰æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
å…¬å¼ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ãŸã¨ãã«ã€`/opt/nvidia/l4t-usb-device-mode/filesystem.img`å†…ã®`README-vnc.txt`ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹å†…å®¹ã¨ã»ã¼åŒã˜ã€‚
ï¼ˆ`README-vnc.txt`ã ã¨ä¸€éƒ¨GUIæ“ä½œãŒã‚ã‚‹ãŒã€ã“ã®è¨˜äº‹ã§ã¯ã™ã¹ã¦ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§å®Ÿæ–½ï¼‰

GUI loginã—ã¦ã„ãªã„çŠ¶æ…‹ã®å ´åˆã¯ä¸‹è¨˜ã§`filesystem.img`ã®å†…å®¹ã‚’å‚ç…§ã§ãã‚‹ã€‚

```
$ sudo mount -o ro /opt/nvidia/l4t-usb-device-mode/filesystem.img /mnt
$ less /mnt/README-vnc.txt
```

# Vinoã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```
$ sudo apt update
$ sudo apt install vino
```

# Vinoã®è‡ªå‹•èµ·å‹•ã®è¨­å®š

```
$ mkdir -p ~/.config/autostart
$ cp /usr/share/applications/vino-server.desktop ~/.config/autostart
```

# Vinoã®ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

`thepassword`ã®éƒ¨åˆ†ã¯ãŠå¥½ã¿ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã€‚

```
$ gsettings set org.gnome.Vino prompt-enabled false
$ gsettings set org.gnome.Vino require-encryption false
$ gsettings set org.gnome.Vino authentication-methods "['vnc']"
$ gsettings set org.gnome.Vino vnc-password $(echo -n 'thepassword'|base64)
```

# è‡ªå‹•loginã®è¨­å®š

`/etc/gdm3/custom.conf`ã‚’æ›¸ãæ›ãˆã‚‹ã€‚`AutomaticLogin`ã®éƒ¨åˆ†ã¯ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ã™ã‚‹ã€‚

```diff
--- a/etc/gdm3/custom.conf 2021-01-22 17:26:49.583451113 +0900
+++ b/etc/gdm3/custom.conf 2021-01-22 17:19:47.888171728 +0900
@@ -7,8 +7,8 @@
 WaylandEnable=false

 # Enabling automatic login
-#  AutomaticLoginEnable = true
-#  AutomaticLogin = user1
+AutomaticLoginEnable = true
+AutomaticLogin = xxx

 # Enabling timed login
 #  TimedLoginEnable = true
```

# è§£åƒåº¦ã®è¨­å®š

HDMIãƒ¢ãƒ‹ã‚¿ã‚’æ¥ç¶šã—ã¦ã„ãªã„ã¨ã€è§£åƒåº¦ãŒ640x480ã¨å°ã•ã„ã®ã§ã€`/etc/X11/xorg.conf`ã«è§£åƒåº¦è¨­å®šã‚’è¿½åŠ ã™ã‚‹ã€‚

```
Section "Screen"
   Identifier    "Default Screen"
   Monitor       "Configured Monitor"
   Device        "Tegra0"
   SubSection "Display"
       Depth    24
       Virtual 1280 800 # Modify the resolution by editing these values
   EndSubSection
EndSection
```

# reboot

rebootã™ã‚‹ã¨è‡ªå‹•loginæ¸ˆã¿ã§Xã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ç”»é¢å…±æœ‰ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚

```
$ sudo reboot
```

# macOSã‹ã‚‰ã®æ¥ç¶š

Finder â†’ ç§»å‹• â†’ ã‚µãƒ¼ãƒã¸æ¥ç¶š... (Command+K) ã§è¡¨ç¤ºã•ã‚Œã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«ã€`vnc://hostname.local`ã¨ã‹`vnc://xxx.xxx.xxx.xxx`ã¨å…¥åŠ›ã—ã¦æ¥ç¶šã™ã‚‹ã€‚
